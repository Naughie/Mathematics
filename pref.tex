\makeatletter
\def\@cite#1{\textsuperscript{\,[#1]}}
\def\@biblabel#1{[#1]}
\def\includeall#1{{\@for\next:=#1\do{\include{\next}}}}
\ifupTeX
\renewcommand\rmdefault{uop}
\renewcommand\sfdefault{zhsf}
\newcommand\my@emph{\fontfamily{ptm}\fontseries{b}\fontshape{it}\selectfont}
\else\ifluatex
\setmainfont[Ligatures=TeX]{URWClassico}
\setsansfont[Ligatures=TeX]{TeXGyreHeros}
\newcommand\my@emph{\setmainfont{Times New Roman Bold Italic}}
\else\ifxetex
\setmainfont[Ligatures=TeX]{URWClassico-Regular.otf}
\setsansfont[Ligatures=TeX]{Helvetica}
\newcommand\my@emph{\setmainfont{Times New Roman Bold Italic}}
\fi\fi\fi
\newcommand\my@bold{\fontfamily{zhsf}\fontseries{bx}\selectfont}
\newcommand\my@sans{\fontfamily{zhmg}\fontshape{it}\selectfont}
\newcommand\my@roman{\fontfamily{lmr}\selectfont\mcfamily}
\newcommand\EMPH[1]{{\my@emph #1}}
\newcommand\ROMAN[1]{{\my@roman #1}}
\newcommand\BOLD[1]{{\my@bold #1}}
\def\SANS[#1]{{\my@sans #1}}
\newcommand\FLOAT[1]{\vspace{18pt}\begin{screen}{#1}\end{screen}\par}
\renewcommand\familydefault{\rmdefault}
\renewcommand\kanjifamilydefault{\gtdefault}
\def\my@defineTitle(#1;#2;#3){\csname #1\endcsname#3{\ROMAN{#2}}}
\newcommand\my@defineMytitle{\@ifstar{\my@@defineMytitle}{\my@@@defineMytitle}}
\newcommand\my@@defineMytitle[2]{\expandafter\def\csname my@#1\endcsname{(#1;#2;[*])}}
\newcommand\my@@@defineMytitle[2]{\expandafter\def\csname my@#1\endcsname{(#1;#2;)}}
\my@defineMytitle{title}{Notes of Mathematics}
\my@defineMytitle*{author}{Masato Nakata}
\my@defineMytitle*{affil}{Department of Science, Kyoto University}
\my@defineMytitle{date}{Since Aug 27, 2017}
\@for\next:=\my@title,\my@author,\my@affil,\my@date\do{%
  \expandafter\expandafter\expandafter\my@defineTitle\next}
\renewcommand\refname{References}
\renewcommand\contentsname{Contents}
\newcommand\prepend{%
  {\fontfamily{zhsf}\selectfont\maketitle\tableofcontents}%
  \pagenumbering{roman}\newpage\pagenumbering{arabic}}
\renewcommand\labelenumi{\roman{enumi})}
\bibliographystyle{jplain}
\newcounter{my@TheoremCounter}\newcounter{my@thmcounter}\setcounter{my@TheoremCounter}{0}
\newcommand\my@subsubsection[3]{\stepcounter{my@TheoremCounter}%
  \expandafter\def\expandafter\themy@thmcounter{[#1 \thesubsection.\themy@TheoremCounter]}%
  \refstepcounter{my@thmcounter}\setcounter{my@thmcounter}{0}%
  \FLOAT{\expandafter\SANS\themy@thmcounter\quad\BOLD{#2}}\label{#3}}
\def\my@defineThm[#1;#2]{\expandafter\def\csname my@#1\endcsname ##1,##2;{\my@subsubsection{#2}{##1}{##2}}%
  \expandafter\newcommand\csname #1\endcsname[1]{\csname my@#1\endcsname ##1;}}
\@for\next:=[THM;Theorem],[DEF;Definition],[PROP;Proposition],[DPROP;Definition \& Proposition],[EX;Example],[LEM;Lemma]\do{%
  \expandafter\expandafter\expandafter\my@defineThm\next}
\newcommand\subsec[1]{\setcounter{my@TheoremCounter}{0}\subsection{#1}\vspace{-13pt}}
