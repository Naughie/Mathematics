\makeatletter
\def\@cite#1{\textsuperscript{\,[#1]}}
\def\@biblabel#1{[#1]}
\def\includeall#1{{\@for\next:=#1\do{\include{\next}}}}
\def\my@enparen#1#2;{\ifx\relax#2\relax #1 \else (#1#2) \fi}
%\newcommand{\myfrac}{\@ifstar{\@myfrac}{\@@myfrac}}
%\newcommand{\@myfrac}[2]{\mathchoice{\frac{#1}{#2}}{#1/#2}{#1/#2}{#1/#2}}
%\newcommand{\@@myfrac}[2]{\mathchoice{\frac{#1}{#2}}{\my@enparen#1;/\my@enparen#2;}{\my@enparen#1;/\my@enparen#2;}{\my@enparen#1;/\my@enparen#2;}}
\makeatother
\ifupTeX
\renewcommand{\rmdefault}{uop}
\renewcommand{\sfdefault}{zhsf}
\newcommand{\myemph}{\fontfamily{ptm}\fontseries{b}\fontshape{it}\selectfont}
\else\ifluatex
\setmainfont[Ligatures=TeX]{URWClassico}
\setsansfont[Ligatures=TeX]{TeXGyreHeros}
\newcommand{\myemph}{\setmainfont{Times New Roman Bold Italic}}
\else\ifxetex
\setmainfont[Ligatures=TeX]{URWClassico-Regular.otf}
\setsansfont[Ligatures=TeX]{Helvetica}
\newcommand{\myemph}{\setmainfont{Times New Roman Bold Italic}}
\fi\fi\fi
\newcommand{\mybold}{\fontfamily{zhsf}\fontseries{bx}\selectfont}
\newcommand{\mysans}{\fontfamily{zhmg}\fontshape{it}\selectfont}
\newcommand{\EMPH}[1]{{\myemph #1}}
\newcommand{\ROMAN}[1]{{\fontfamily{lmr}\selectfont #1}}
\newcommand{\BOLD}[1]{{\mybold #1}}
\newcommand{\SANS}[1]{{\mysans #1}}
\def\SANS[#1]{{\mysans #1}}
\newcommand{\FLOAT}[1]{\vspace{18pt}{#1}\par}
\renewcommand{\familydefault}{\rmdefault}
\renewcommand{\kanjifamilydefault}{\gtdefault}
\newcommand{\myTitle}{\ROMAN{Notes of Mathematics}}
\newcommand{\myAuthor}{\ROMAN{Masato Nakata}}
\newcommand{\myAffil}{\ROMAN{Department of Science, Kyoto University}}
\newcommand{\myDate}{\ROMAN{Since Aug 27, 2017}}
\renewcommand{\refname}{References}
\renewcommand{\contentsname}{Contents}
\renewcommand{\labelenumi}{\roman{enumi})}
\newcounter{myTheoremCounter}
\setcounter{myTheoremCounter}{0}
\newcounter{mythmcounter}
\newcommand{\mysubsubsection}[3]{\stepcounter{myTheoremCounter}%
  \expandafter\def\expandafter\themythmcounter{[#1 \thesubsection.\themyTheoremCounter]}%
  \refstepcounter{mythmcounter}%
  \FLOAT{\expandafter\SANS\themythmcounter\quad\BOLD{#2}}\label{#3}}
\def\mythm#1,#2;{\mysubsubsection{Theorem}{#1}{#2}}
\def\mydef #1,#2;{\mysubsubsection{Definition}{#1}{#2}}
\def\myprop #1,#2;{\mysubsubsection{Proposition}{#1}{#2}}
\def\mydprop #1,#2;{\mysubsubsection{Definition \& Proposition}{#1}{#2}}
\def\myex #1,#2;{\mysubsubsection{Example}{#1}{#2}}
\def\mylem #1,#2;{\mysubsubsection{Lemma}{#1}{#2}}
\newcommand{\THM}[1]{\mythm #1;}
\newcommand{\DEF}[1]{\mydef #1;}
\newcommand{\PROP}[1]{\myprop #1;}
\newcommand{\DPROP}[1]{\mydprop #1;}
\newcommand{\EX}[1]{\myex #1;}
\newcommand{\LEM}[1]{\mylem #1;}
\newcommand{\subsec}[1]{\setcounter{myTheoremCounter}{0}\subsection{#1}\vspace{-13pt}}
\newtheorem{theorem}{Theorem}[section]
\newtheorem{lemma}{Lemma}[section]
\newtheorem{proposition}{Proposition}[section]
\theoremstyle{definition}
\newtheorem{definition}{Definition}[section]
\let\bb\mathbb
\newcommand{\fr}[2]{\mathchoice{\frac{#1}{#2}}{#1/#2}{#1/#2}{#1/#2}}
\newcommand{\pfr}[2]{\fr{\partial #1}{\partial #2}}
\newcommand{\abs}[1]{\left| #1 \right|}
\let\g\mathfrak
\let\s\mathscr
\let\BAR\overline
\newcommand{\usualtop}[1][n]{\mathcal{O}_{#1}}
\DeclareMathOperator{\im}{im}
\DeclareMathOperator{\tr}{tr}
\DeclareMathOperator{\sgn}{sgn}
\DeclareMathOperator{\ad}{ad}
\DeclareMathOperator{\der}{Der}
\DeclareMathOperator{\enfrac}{Frac}
\DeclareMathOperator{\grad}{grad}
\DeclareMathOperator{\rot}{rot}
\let\div\relax
\DeclareMathOperator{\div}{div}
\DeclareMathOperator{\dom}{dom}
\DeclareMathOperator{\cod}{cod}
